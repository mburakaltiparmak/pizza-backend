# PIZZA BACKEND - BASE CONFIGURATION

# Active Profile (default: dev)
spring.profiles.active=dev

# Application Info
spring.application.name=pizza-backend
info.app.name=Pizza Delivery API
info.app.description=Professional RESTful API for Pizza Delivery Management
info.app.version=2.0.0-phase2.3
info.app.developer=Your Name
info.app.portfolio=https://your-portfolio.com
info.app.contact=info@your-domain.com
info.app.documentation=Pizza Project RESTful API 

# ============================================================================
# SERVER SETTINGS - COMMON
# ============================================================================
server.servlet.context-path=${SERVER_CONTEXT_PATH:/pizza}
server.port=${SERVER_PORT:8080}
server.address=0.0.0.0

# Error Handling - Base Configuration
server.error.include-message=ON_PARAM
server.error.include-binding-errors=ON_PARAM
server.error.include-stacktrace=ON_PARAM
server.error.include-exception=true

# ============================================================================
# DATABASE - COMMON SETTINGS
# ============================================================================
# Database driver
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA/Hibernate Common Settings
spring.jpa.properties.hibernate.dialect=${JPA_DIALECT:org.hibernate.dialect.PostgreSQLDialect}
spring.jpa.properties.hibernate.default_schema=${DB_SCHEMA:pizza}
spring.jpa.properties.hibernate.jdbc.batch_size=0
spring.jpa.properties.hibernate.order_inserts=false
spring.jpa.properties.hibernate.order_updates=false
spring.jpa.properties.hibernate.jdbc.batch_versioned_data=false
spring.jpa.open-in-view=false

# SQL Initialization - Common
spring.sql.init.continue-on-error=true

# ============================================================================
# HIKARICP CONNECTION POOL - COMMON SETTINGS
# ============================================================================
spring.datasource.hikari.connection-timeout=${HIKARI_CONNECTION_TIMEOUT:20000}
spring.datasource.hikari.idle-timeout=${HIKARI_IDLE_TIMEOUT:600000}
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.keepalive-time=300000
spring.datasource.hikari.validation-timeout=5000
spring.datasource.hikari.connection-test-query=SELECT 1
spring.datasource.hikari.auto-commit=true
spring.datasource.hikari.register-mbeans=true

# ============================================================================
# FILE UPLOAD SETTINGS - COMMON
# ============================================================================
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=${MAX_FILE_SIZE:10MB}
spring.servlet.multipart.max-request-size=${MAX_REQUEST_SIZE:10MB}

# ============================================================================
# SESSION SETTINGS - COMMON
# ============================================================================
server.servlet.session.timeout=30m
server.servlet.session.tracking-modes=cookie

# ============================================================================
# CORS SETTINGS - COMMON STRUCTURE
# ============================================================================
spring.mvc.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.mvc.cors.allowed-headers=*
spring.mvc.cors.allow-credentials=true

# ============================================================================
# EMAIL SETTINGS - COMMON STRUCTURE
# ============================================================================
spring.mail.properties.mail.smtp.auth=${MAIL_SMTP_AUTH:true}
spring.mail.properties.mail.smtp.from.name=Teknolojik Yemekler
spring.mail.properties.mail.from.name=Teknolojik Yemekler

# ============================================================================
# SPRING BOOT SETTINGS - COMMON
# ============================================================================
# Bean Definition Overriding (phase 1 migration)
spring.main.allow-bean-definition-overriding=true

# Circular References (disabled for phase 1 - best practice)
spring.main.allow-circular-references=false

# Lazy Initialization (disabled - better startup time visibility)
spring.main.lazy-initialization=false

# ============================================================================
# LOMBOK CONFIGURATION
# ============================================================================

lombok.addLombokGeneratedAnnotation=true

# ============================================================================
# ACTUATOR ENDPOINTS - COMMON
# ============================================================================
management.endpoints.web.base-path=/actuator
management.endpoint.health.show-components=always

# ============================================================================
# LOGGING - BASE LEVEL
# ============================================================================
logging.level.root=INFO
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n

# ============================================================================
# ENCODING - UTF-8
# ============================================================================
spring.http.encoding.charset=UTF-8
spring.http.encoding.enabled=true
spring.http.encoding.force=true
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.enabled=true

# ============================================================================
# IYZICO PAYMENT GATEWAY
# ============================================================================
iyzico.api-key=${IYZICO_API_KEY}
iyzico.secret-key=${IYZICO_SECRET_KEY}
iyzico.base-url=${IYZICO_BASE_URL:https://sandbox-api.iyzipay.com}
iyzico.callback-url=${IYZICO_CALLBACK_URL:http://localhost:8080/pizza/api/payment/3ds/callback}
